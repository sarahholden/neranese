$(document).ready((function(){console.log("Custom Shopify theme development by Sarah Holden:"),console.log("https://saraheholden.com/"),console.log("---"),console.log("Design by Kati Forner Design:"),console.log("https://katiforner.com/");let e=0;$(".hamburger").on("click",(function(t){t.preventDefault(),$("body").hasClass("open-mobile-nav")?($("body").removeClass("open-mobile-nav"),$(window).scrollTop(e)):(e=$(window).scrollTop(),$("body").addClass("open-mobile-nav"))}));var t=document.links;for(let e=0,a=t.length;e<a;e++)t[e].hostname!==window.location.hostname&&(t[e].target="_blank",t[e].rel="noreferrer noopener");function a(e,t,a){var o=gsap.timeline({scrollTrigger:{trigger:a,start:t}});const s=new SplitText(a,{type:"lines",linesClass:"split-line-child"}),r=new SplitText(a,{type:"lines",linesClass:"split-line-wrap-++"});o.staggerFrom($(a).find(".split-line-child"),1.2,{y:"100%",ease:Power3.easeOut,delay:e},.15).add((function(){r.revert(),s.revert()}))}gsap.registerPlugin(ScrollTrigger),ScrollTrigger.defaults({markers:!1}),ScrollTrigger.matchMedia({"(min-width: 1024px)":function(){gsap.utils.toArray("[data-from]").forEach(((e,t)=>{const a=JSON.parse(e.dataset.from),o=JSON.parse(e.dataset.to),s=e.dataset.start?e.dataset.start:"top bottom",r=e.dataset.end?e.dataset.end:"bottom top";gsap.timeline({scrollTrigger:{trigger:e,scrub:!0,start:s,end:r}}).fromTo(e,a,o)}))},"(max-width: 1024px)":function(){gsap.utils.toArray("[data-mobile-from]").forEach(((e,t)=>{const a=JSON.parse(e.dataset.mobileFrom),o=JSON.parse(e.dataset.mobileTo),s=e.dataset.start?e.dataset.start:"top bottom",r=e.dataset.end?e.dataset.end:"bottom top";gsap.timeline({scrollTrigger:{trigger:e,scrub:!0,start:s,end:r}}).fromTo(e,a,o)}))}}),gsap.utils.toArray(".scroll-enter").forEach(((e,t)=>{const a=e.dataset.delay?e.dataset.delay:0;gsap.timeline({scrollTrigger:{trigger:e,start:"center bottom"}}).fromTo(e,1.2,{autoAlpha:0,y:20},{autoAlpha:1,y:0,ease:Power4.easeOut,delay:a})})),gsap.utils.toArray(".js-animate").forEach(((e,t)=>{ScrollTrigger.create({trigger:e,start:"top 80%",onEnter:t=>$(e).addClass("animate-in")})})),$(".js-animate-on-load").addClass("animate-in"),ScrollTrigger.batch("[data-stagger]",{onEnter:e=>gsap.to(e,1.2,{autoAlpha:1,y:0,stagger:.15,ease:Power1.easeOut}),start:"40px bottom"}),document.fonts.ready.then((function(){$('[data-reveal="lines-masked"]').addClass("loaded"),$('[data-reveal="lines-masked-desc"]').addClass("loaded"),$('[data-reveal="words-masked"]').addClass("loaded"),gsap.utils.toArray('[data-reveal="lines-masked"]').forEach(((e,t)=>{a(e.dataset.delay?e.dataset.delay:0,e.dataset.start?e.dataset.start:"center bottom",e)})),gsap.utils.toArray('[data-reveal="lines-masked-desc"]').forEach(((e,t)=>{a(e.dataset.delay?e.dataset.delay:0,e.dataset.start?e.dataset.start:"center bottom",$(e).find("p"))}))}));let o=0,s=$(".nav-wrapper").innerHeight(),r=$(".promo-bar").length>0?$(".promo-bar").innerHeight():0;$(window).on("scroll",(function(){s=$(".nav-wrapper").innerHeight(),r=$(".promo-bar").length>0?$(".promo-bar").innerHeight():0})),$(window).on("scroll",(()=>{const e=$(window).scrollTop(),t=e>o;e<r||t&&e<s+r?$(".nav-wrapper").removeClass("is-fixed-hidden is-fixed-visible"):t&&e>s+r?$(".nav-wrapper").addClass("is-fixed-hidden").removeClass("is-fixed-visible"):$(".nav-wrapper").addClass("is-fixed-visible").removeClass("is-fixed-hidden"),o=e})),$(".accordion").on("click",".accordion-toggle",(function(){var e=$(this).closest(".accordion-panel");e.toggleClass("expanded"),e.find(".accordion-text").slideToggle(300),e.attr("aria-expanded",(function(e,t){return"true"==t?"false":"true"}))})),$(".js-view-cart").on("click",(function(e){e.preventDefault(),$("body").addClass("open-cart")})),$(".js-close-cart").on("click",(function(e){e.preventDefault(),$("body").removeClass("open-cart")})),$("select").selectric(),$(".js-scroll-to").on("click",(function(e){e.preventDefault();var t=$(this).attr("href");if("#bottom"==t)var a=$("#top").offset().top+$("#top").outerHeight()-$(window).height();else a=$(t).offset().top;$("html, body").animate({scrollTop:a},600)})),$(".js-klaviyo-form").on("submit",(function(e){e.preventDefault();var t=$(this),a=$(this).find("input[type=email]").val();if(function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(a)){$(t).find(".error-message").fadeOut();var o=t.data("list-id");$.ajax({url:"https://manage.kmail-lists.com/ajax/subscriptions/subscribe",method:"POST",crossDomain:!0,dataType:"json",data:{g:o,$consent:"web",email:a},success:function(e){!function(e){e.find(".js-inner-form-wrap").hide(),e.find(".success-message").fadeIn(),setCookie("email-popup-dismissed"),setTimeout((function(){$("body").removeClass("show-email-popup email-submitted")}),3e3)}(t)}})}else $(t).find(".error-message").fadeIn()})),ScrollTrigger.refresh()}));